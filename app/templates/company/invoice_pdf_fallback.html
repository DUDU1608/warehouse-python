<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Invoice #{{ inv.invoice_no }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">
  <div class="alert alert-warning">PDF engine not available. Use your browser’s “Print → Save as PDF”.</div>

  <div class="card p-3">
    <h4 class="mb-1">Shree Anunay Agro Pvt Ltd</h4>
    <div>{{ "%s | Mobile: %s | Email: %s | Website: %s | GSTIN: %s" % (CO_ADDR, CO_MOBILE, CO_EMAIL, CO_WEBSITE, CO_GSTIN) }}</div>
    <hr />
    <div><b>Invoice #</b> {{ inv.invoice_no }} | <b>Date</b> {{ inv.date.strftime("%d-%m-%Y") }}</div>
    <div><b>Customer:</b> {{ inv.customer_name }}</div>
    <div><b>Address:</b> {{ inv.address or "" }}</div>
    <div><b>Vehicle:</b> {{ inv.vehicle_no or "" }} | <b>Driver:</b> {{ inv.driver_no or "" }}</div>
    <hr />
    <div class="table-responsive">
      <table class="table table-sm table-bordered">
        <thead class="table-light">
          <tr><th>SL</th><th>Description</th><th class="text-end">Price</th><th class="text-end">Qty</th><th class="text-end">Amount</th></tr>
        </thead>
        <tbody>
          {% for it in items %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ it.description }}</td>
            <td class="text-end">{{ '%.2f' % it.price }}</td>
            <td class="text-end">{{ '%.2f' % it.qty }}</td>
            <td class="text-end">{{ '%.2f' % it.amount }}</td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr><th colspan="4" class="text-end">Sub Total</th><th class="text-end">
            {% if hasattr(inv, 'sub_total') %}{{ '%.2f' % inv.sub_total }}{% else %}{{ '%.2f' % (inv.subtotal or 0) }}{% endif %}
          </th></tr>
          <tr><th colspan="4" class="text-end">CGST</th><th class="text-end">{{ '%.2f' % (inv.cgst or 0) }}</th></tr>
          <tr><th colspan="4" class="text-end">SGST</th><th class="text-end">{{ '%.2f' % (inv.sgst or 0) }}</th></tr>
          <tr class="table-secondary"><th colspan="4" class="text-end">Grand Total</th><th class="text-end">{{ '%.2f' % (inv.grand_total or 0) }}</th></tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
</body>
</html>
