<!DOCTYPE html>
<html>
<head>
    <title>Add Company Loan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container { max-width: 520px; margin-top: 48px; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px #e1e7f0; padding: 30px 34px;}
        .form-label { font-weight: 500; }
        h3 { color: #0a3871; font-weight: 600; margin-bottom: 26px; text-align: center; }
        .btn-primary { min-width: 130px; }
    </style>
    <script>
    function recalc() {
        let pf = parseFloat(document.getElementById('processing_fee').value) || 0;
        let gst = parseFloat(document.getElementById('gst').value) || 0;
        let loan = parseFloat(document.getElementById('loan_amount').value) || 0;
        document.getElementById('total_processing_fee').value = pf + gst;
        document.getElementById('total_disbursement').value = loan - (pf + gst);
    }
    </script>
</head>
<body>
<div class="container mt-4">
    <h3 class="mb-3">Add Company Loan</h3>
    <form method="POST">
        <div class="mb-3">
            <label>Date</label>
            <input type="date" name="date" class="form-control" required>
        </div>
        <div class="mb-3">
            <label>Loan amount</label>
            <input type="number" step="0.01" id="loan_amount" name="loan_amount" class="form-control" required oninput="recalc()">
        </div>
        <div class="mb-3">
            <label>Processing fee</label>
            <input type="number" step="0.01" id="processing_fee" name="processing_fee" class="form-control" required oninput="recalc()">
        </div>
        <div class="mb-3">
            <label>GST</label>
            <input type="number" step="0.01" id="gst" name="gst" class="form-control" required oninput="recalc()">
        </div>
        <div class="mb-3">
            <label>Total Processing Fee</label>
            <input type="number" step="0.01" id="total_processing_fee" name="total_processing_fee" class="form-control" readonly>
        </div>
        <div class="mb-3">
            <label>TOTAL DISBURSMENT</label>
            <input type="number" step="0.01" id="total_disbursement" name="total_disbursement" class="form-control" readonly>
        </div>
        <div class="mb-3">
            <label>Interest rate (%)</label>
            <input type="number" step="0.01" name="interest_rate" class="form-control" required>
        </div>
        <button class="btn btn-primary">Add Loan</button>
        <a href="{{ url_for('company_dashboard.finance_dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
    </form>
</div>
</body>
</html>
