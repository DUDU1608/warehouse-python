<!DOCTYPE html>
<html>
<head>
    <title>Edit Expenditure</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
      function toggleComments() {
        const type = document.getElementById('expenditure_type').value;
        document.getElementById('comments_group').style.display = (type === 'Others') ? 'block' : 'none';
      }
      window.onload = toggleComments;
    </script>
</head>
<body>
<div class="container mt-5">
    <h3 class="mb-4">Edit Expenditure</h3>
    <form method="POST">
        <div class="mb-3">
            <label class="form-label">Date</label>
            <input name="date" type="date" class="form-control" value="{{ exp.date.strftime('%Y-%m-%d') if exp.date else '' }}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Type of Expenditure</label>
            <select name="expenditure_type" id="expenditure_type" class="form-control" onchange="toggleComments()" required>
                <option value="Maintenance Charges" {% if exp.expenditure_type=='Maintenance Charges' %}selected{% endif %}>Maintenance Charges</option>
                <option value="Salary Payment" {% if exp.expenditure_type=='Salary Payment' %}selected{% endif %}>Salary Payment</option>
                <option value="Others" {% if exp.expenditure_type=='Others' %}selected{% endif %}>Others</option>
            </select>
        </div>
        <div class="mb-3" id="comments_group" style="display:none;">
            <label class="form-label">Comments</label>
            <input name="comments" type="text" class="form-control" value="{{ exp.comments or '' }}">
        </div>
        <div class="mb-3">
            <label class="form-label">Amount</label>
            <input name="amount" type="number" step="0.01" min="0" class="form-control" value="{{ exp.amount }}" required>
        </div>
        <button class="btn btn-primary">Update Expenditure</button>
        <a href="{{ url_for('expenditure.list_expenditure') }}" class="btn btn-secondary">Display Expenditure</a>
        <a href="{{ url_for('company_dashboard.finance_dashboard') }}" class="btn btn-outline-dark">‚Üê Back to Dashboard</a>
    </form>
</div>
</body>
</html>
